<html>
  <head>
    <style>
      .flex {
        display: flex;
        width: 100vw;
        height: 100vh;
        flex-direction: row;
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div class="flex">
        <iframe id="login_frame" width="500px" height="500px" src="" frameborder="1"></iframe>
    </div>
    <script>
      window.addEventListener('load', () => {
        const frame = document.querySelector('#login_frame');
        const username = new URL(window.location).searchParams.get('username');
        const frameURL = `http://galmungral-two-factor.herokuapp.com/?username=${username}`;
        frame.setAttribute('src', frameURL);
      });
      window.addEventListener('message', e => {
        if (e.data.success) {
          setTimeout(() => {
            window.location = "https://google.com";
          }, 3000);
        }
      });
    </script>
  </body>
</html>